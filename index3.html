<!DOCTYPE html>
<html>
<head>
	<title>Cost Splitter</title>
	<!-- Bootstrap CDN -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<link rel="stylesheet" type="text/css" href="styles.css">

</head>
	<body>
		<div id="header">		
			<h1>Cost  Splitter</h1>
		</div>

			<div class="main container-fluid">
				<div class="row mainInputs ">

					<div class="block mainInputs">
						<label>Total bill: </label>
						<input type="number" placeholder=" Total" id="total">
						<label>Number in group: </label>
						<input type="number" placeholder=" Group Number" id="groupNum">
			
						<input type="button" value="Fair Share" onclick="average()"><br>
					</div>
					<div class="block mainInputs">
						<label>Everyone's fair share is: </label>
						<input type="number" placeholder="Click 'Fair Share' to see" id="printOrigAvg">
					</div><br>
					<div class="block mainInputs">
						<p id="question1">The Adjuster:</p>
					</div>
				</div>
			</div>
		
		<script>
			var fairShare;
			var total;
			var groupNum;
			var num1;
			
			function average(){
				total = document.getElementById("total").value;
				groupNum = document.getElementById("groupNum").value;

				fairShare = total / groupNum;
				var num1 = fairShare.toFixed(2)

				document.getElementById("printOrigAvg").value = num1;

				document.getElementById("printOrigAvg2").value = num1;
			
				document.getElementById("question1").innerHTML = "Should someone pay something more? Or something less?"

				console.log("Total is " + total);
				console.log("Group num is " + groupNum);
				console.log("Fair share is " + fairShare);
				console.log("Fair share is ~ " + num1);
			}
		</script>

			
		<div class="main2 container-fluid">
			
			

			<div class="block mainInputs" id="inputs">
				<input type="text" placeholder=" Who is paying" id="name">
				<input type="number" placeholder=" this percentage" id="percent"> %  

				<input type="button" value="more" onclick="percentMore()"> or 
				<input type="button" value="less" onclick="percentLess()"> than 

				<input type="number" placeholder=" the fair share?" id="printOrigAvg2">
			
			<span id="addRemoveButtons">
				<input type="button" value="Another" id= "addFields" onclick="addFields()">
				<input type="button" value="Remove" id= "minusFields" onclick="minusFields()">
			</span>
			</div>
		</div>

		<form enctype="multipart/form-data" action="" method="post">
			<div class="main2 container-fluid">
				<ul id="adjusterFields"></ul>

			</div>
		</form>


			<div class="block mainInputs">
				<p id="theirShare" class="instructions"></p>
			</div>


		<script>
		
			var theirShare;
			var newFairShare;
			var percent;
			var name;

			var num2;
			var num3;

			function percentMore(){
				percent = document.getElementById("percent").value;
				name = document.getElementById("name").value;

				num2 = fairShare + (percent/100 * fairShare);
				theirShare = num2.toFixed(2);

				num3 = (total - theirShare)/(groupNum - 1);
				newFairShare = num3.toFixed(2)

				document.getElementById("theirShare").innerHTML = name + "\'s share is $" + theirShare + " and everyone else's is $" + newFairShare + "."

				console.log("Person is " + name);
				console.log("Total is " + total);
				console.log("Group num is " + groupNum);
				console.log("Old fair share is " + fairShare);
				console.log("Their share is " + num2);
				console.log("Their share is ~ " + theirShare);
				console.log("New fairshare is " + num3);
				console.log("New fairshare is ~ " + newFairShare);
			}

			function percentLess(){
				percent = document.getElementById("percent").value;

				name = document.getElementById("name").value;

				num2 = fairShare - (percent/100 * fairShare);
				theirShare = num2.toFixed(2);

				num3 = (total - theirShare)/(groupNum - 1);
				newFairShare = num3.toFixed(2);

				document.getElementById("theirShare").innerHTML = name + "\'s share is $" + theirShare + " and everyone else's is $" + newFairShare + "."

				console.log("Person is " + name);
				console.log("Total is " + total);
				console.log("Group number is " + groupNum);
				console.log("Old fair share is " + fairShare);
				console.log("Their share is " + num2);
				console.log("Their share is ~ " + theirShare);
				console.log("New fair share is " + num3);
				console.log("New fairshare is ~ " + newFairShare);
			}


			var fields = 0;
			var adjusterFields;
			var more;
			function addFields(){
				fields++;
				adjusterFields = document.getElementById("adjusterFields");
				more = document.createElement("li");
				more.innerHTML = '<div class="block mainInputs"><input type="text" placeholder=" Who is paying" id="name"><input type="number" placeholder=" this percentage" id="percent"> %  <input type="button" value="more" onclick="percentMore()"> or <input type="button" value="less" onclick="percentLess()"> than <input type="number" placeholder=" the fair share?" id="printOrigAvg2"><input type="button" value="Another" id= "addFields" onclick="addFields()"><input type="button" value="Remove" id= "minusFields" onclick="minusFields()"></div>'

				var replaceElement = document.createElement('li');
				replaceElement.innerHTML = more.innerHTML;

				adjusterFields.appendChild(more);
				adjusterFields.replaceChild(replaceElement,more);
			}


			function minusFields(){
				// fields++;
				// for (var i = adjusterFields.length - 1; i >= 0; i--) {
				// 	adjusterFields[i]
				// }
				// var adjusterFields = document.getElementById("adjusterFields");
				// var more = document.createElement("div");
				//adjusterFields.parentNode.removeChild(adjusterFields);
				// return false;

				fields++;
				adjusterFields = document.getElementById("adjusterFields");
				more = document.createElement("li");
				more.innerHTML = '<div class="block mainInputs"><input type="text" placeholder=" Who is paying" id="name"><input type="number" placeholder=" this percentage" id="percent"> %  <input type="button" value="more" onclick="percentMore()"> or <input type="button" value="less" onclick="percentLess()"> than <input type="number" placeholder=" the fair share?" id="printOrigAvg2"><input type="button" value="Another" id= "addFields" onclick="addFields()"><input type="button" value="Remove" id= "minusFields" onclick="minusFields()"></div>'

				adjusterFields.removeChild(more);
						}


		</script>
		
		



	</body>
</html>

<!-- https://medium.freecodecamp.org/reduce-f47a7da511a9 
https://www.google.com/search?q=how+do+you+add+another+input+box&rlz=1C1CHWA_enUS598US598&oq=how+do+you+add+another+input+box&aqs=chrome..69i57.1085j0j7&sourceid=chrome&ie=UTF-8
https://stackoverflow.com/questions/35154428/how-do-you-print-user-input-in-html-using-javascript
https://stackoverflow.com/questions/18300201/how-do-i-calculate-2-input-fields-and-put-results-in-3rd-input-field
https://www.youtube.com/watch?v=xzLclwZOZ-g
https://www.youtube.com/watch?v=xzLclwZOZ-g
https://www.w3schools.com/php/php_includes.asp
https://stackoverflow.com/questions/22776583/why-php-tag-is-not-working-in-html-file
https://bootstrapdocs.com/v3.3.6/docs/css/
https://www.w3schools.com/tags/tag_output.asp
https://www.w3schools.com/tags/att_input_type.asp
https://www.sololearn.com/Discuss/196415/solved-why-i-cant-use-a-variable-outside-the-function-defined-inside-a-function
https://javascript.info/number
https://stackoverflow.com/questions/9686538/align-labels-in-form-next-to-input
https://stackoverflow.com/questions/5482677/how-to-apply-two-css-classes-to-a-single-div-span
https://stackoverflow.com/questions/42442323/bootstrap-4-col-align-right
https://www.youtube.com/watch?v=d1IFl1AeJGY   -- add fields
https://www.youtube.com/watch?v=d1IFl1AeJGY
https://stackoverflow.com/questions/15933037/adding-input-fields-in-javascript-with-onclick-button
https://stackoverflow.com/questions/1847220/javascript-document-createelement-delete-domelement
https://www.w3schools.com/jsref/met_node_removechild.asp - opposite of appendChild()
https://www.abeautifulsite.net/adding-and-removing-elements-on-the-fly-using-javascript
https://stackoverflow.com/questions/5933157/how-to-remove-an-html-element-using-javascript
https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement/remove
https://www.youtube.com/watch?v=UbFyRPWo62Y
https://www.youtube.com/watch?v=pRN6WFUEFFE



		// var averageSoln = a/b;
		// function average(a,b){
		// 	return (a/b);
		// }
		// console.log(average());

		// alert(return(a/b));
		// alert(a);

			//where display it.
			//where place it for later use.


// const euros = [29.76, 41.85, 46.5];
// const sum = euros.reduce((total, amount) => total + amount); 
// sum // 118.11

// var avg = document.getElementById("origAvg") = function(){
// document.getElementByFunction("printOrigAvg").innerHTML = average;
// }

<button id="origAvg">Fair share</button>

function sum(){
document.getElementById("printOrigAvg").value = document.getElementById("total").value + document.getElementById("groupNum").value   ;}

var a = document.getElementById("total").value;
var b = document.getElementById("groupNum").value;

document.getElementById("printOrigAvg").value = a + b;

<input type="name" placeholder="Who" id="name">
		<input type="number" placeholder="How much more? Or less?" id="percent">% 
		<input list="moreOrLess" name="moreOrLess">
		<datalist id="moreOrLess">
			<option value = "more">
			<option value = "less">
		</datalist>
		<input type="button" value="Their share" onclick="percent()"><br>
		<p id="theirShare"></p>


<script>
			// var fairShare = document.getElementById("printOrigAvg").value;
			var total = document.getElementById("total").value;
			var groupNum = document.getElementById("groupNum").value;

			function average(){
				var fairShare = document.getElementById("printOrigAvg").value;

				fairShare = total / groupNum;

				
			// document.getElementById("printOrigAvg").value = document.getElementById("total").value / document.getElementById("groupNum").value;

			// document.getElementById("printOrigAvg2").value = document.getElementById("total").value / document.getElementById("groupNum").value;
			document.getElementById("question1").innerHTML = "But is that really fair? Should someone pay something more? Or something less?"
			}
		</script>

<div class="main" class="container-fluid">
			 <form method="post" id="insert_form"> 
				<div class="mainInputs row">

					<div class="block mainInputs col-6 ml-auto">
						<label>Total bill: </label>
					</div>
					<div class="block mainInputs col-6 mr-auto">
						<input type="number" placeholder="Total" id="total">
					</div>
					<div class="block mainInputs">
						<label>Number in group: </label>
						<input type="number" placeholder="Group Number" id="groupNum">
					</div>


-->